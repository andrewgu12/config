"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../lib/utils");
const helpers_1 = require("./helpers");
const atom_1 = require("atom");
const chai_1 = require("chai");
describe('Utils', () => {
    describe('getWordAtPosition', () => {
        let editor;
        beforeEach(() => {
            editor = helpers_1.createFakeEditor('test.txt');
            editor.setText('blah test1234 test-two');
        });
        it('gets the word at position from a text editor', () => {
            // "blah"
            let range = utils_1.default.getWordAtPosition(editor, new atom_1.Point(0, 0));
            chai_1.expect(range.serialize()).eql([[0, 0], [0, 4]]);
            // "test1234"
            range = utils_1.default.getWordAtPosition(editor, new atom_1.Point(0, 7));
            chai_1.expect(range.serialize()).eql([[0, 5], [0, 13]]);
            // "test"
            range = utils_1.default.getWordAtPosition(editor, new atom_1.Point(0, 14));
            chai_1.expect(range.serialize()).eql([[0, 14], [0, 18]]);
        });
        it('returns empty ranges for non-words', () => {
            const range = utils_1.default.getWordAtPosition(editor, new atom_1.Point(0, 4));
            chai_1.expect(range.serialize()).eql([[0, 4], [0, 4]]);
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3Rlc3QvdXRpbHMudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHdDQUFpQztBQUNqQyx1Q0FBNkM7QUFFN0MsK0JBQTZCO0FBQzdCLCtCQUE4QjtBQUU5QixRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixRQUFRLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLElBQUksTUFBVyxDQUFDO1FBQ2hCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLEdBQUcsMEJBQWdCLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDhDQUE4QyxFQUFFLEdBQUcsRUFBRTtZQUN0RCxTQUFTO1lBQ1QsSUFBSSxLQUFLLEdBQUcsZUFBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxJQUFJLFlBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3RCxhQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWhELGFBQWE7WUFDYixLQUFLLEdBQUcsZUFBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxJQUFJLFlBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RCxhQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWpELFNBQVM7WUFDVCxLQUFLLEdBQUcsZUFBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxJQUFJLFlBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMxRCxhQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtZQUM1QyxNQUFNLEtBQUssR0FBRyxlQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTSxFQUFFLElBQUksWUFBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9ELGFBQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFV0aWxzIGZyb20gJy4uL2xpYi91dGlscyc7XHJcbmltcG9ydCB7IGNyZWF0ZUZha2VFZGl0b3IgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdhdG9tJztcclxuaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7XHJcblxyXG5kZXNjcmliZSgnVXRpbHMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ2dldFdvcmRBdFBvc2l0aW9uJywgKCkgPT4ge1xyXG4gICAgbGV0IGVkaXRvcjogYW55O1xyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIGVkaXRvciA9IGNyZWF0ZUZha2VFZGl0b3IoJ3Rlc3QudHh0Jyk7XHJcbiAgICAgIGVkaXRvci5zZXRUZXh0KCdibGFoIHRlc3QxMjM0IHRlc3QtdHdvJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZ2V0cyB0aGUgd29yZCBhdCBwb3NpdGlvbiBmcm9tIGEgdGV4dCBlZGl0b3InLCAoKSA9PiB7XHJcbiAgICAgIC8vIFwiYmxhaFwiXHJcbiAgICAgIGxldCByYW5nZSA9IFV0aWxzLmdldFdvcmRBdFBvc2l0aW9uKGVkaXRvciwgbmV3IFBvaW50KDAsIDApKTtcclxuICAgICAgZXhwZWN0KHJhbmdlLnNlcmlhbGl6ZSgpKS5lcWwoW1swLCAwXSwgWzAsIDRdXSk7XHJcblxyXG4gICAgICAvLyBcInRlc3QxMjM0XCJcclxuICAgICAgcmFuZ2UgPSBVdGlscy5nZXRXb3JkQXRQb3NpdGlvbihlZGl0b3IsIG5ldyBQb2ludCgwLCA3KSk7XHJcbiAgICAgIGV4cGVjdChyYW5nZS5zZXJpYWxpemUoKSkuZXFsKFtbMCwgNV0sIFswLCAxM11dKTtcclxuXHJcbiAgICAgIC8vIFwidGVzdFwiXHJcbiAgICAgIHJhbmdlID0gVXRpbHMuZ2V0V29yZEF0UG9zaXRpb24oZWRpdG9yLCBuZXcgUG9pbnQoMCwgMTQpKTtcclxuICAgICAgZXhwZWN0KHJhbmdlLnNlcmlhbGl6ZSgpKS5lcWwoW1swLCAxNF0sIFswLCAxOF1dKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdyZXR1cm5zIGVtcHR5IHJhbmdlcyBmb3Igbm9uLXdvcmRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByYW5nZSA9IFV0aWxzLmdldFdvcmRBdFBvc2l0aW9uKGVkaXRvciwgbmV3IFBvaW50KDAsIDQpKTtcclxuICAgICAgZXhwZWN0KHJhbmdlLnNlcmlhbGl6ZSgpKS5lcWwoW1swLCA0XSwgWzAsIDRdXSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdfQ==